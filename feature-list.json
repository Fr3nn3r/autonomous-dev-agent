{
  "project_name": "Autonomous Dev Agent (ADA)",
  "project_path": "C:\\Users\\fbrun\\Documents\\GitHub\\autonomous-dev-agent",
  "features": [
    {
      "id": "R1-retry-logic",
      "name": "Retry Logic",
      "description": "Retry failed sessions with exponential backoff. Configurable max retries (default: 3). Distinguish between retryable errors (network, rate limit, SDK crash) and permanent errors (auth, billing).",
      "category": "infrastructure",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Exponential backoff with configurable base delay",
        "Max retries configurable (default 3)",
        "Retryable errors: transient, rate_limit, sdk_crash",
        "Non-retryable errors: billing, auth"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - Critical priority",
        "Implemented in session.py with RetryConfig"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "R2-test-validation",
      "name": "Test Validation",
      "description": "Run project tests before marking features complete. If tests fail, keep feature as in_progress and log the failure. Configurable test command per project.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Tests run after each session before marking complete",
        "Failed tests keep feature as in_progress",
        "Test command configurable per project",
        "Failure notes added to implementation_notes"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - Critical priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "R3-session-resume",
      "name": "Session Resume",
      "description": "Save session checkpoints to .ada_session_state.json. On restart, offer to resume from last checkpoint or start fresh. Track partial progress within features.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "Session state saved to .ada_session_state.json",
        "Resume option offered on restart",
        "Partial progress tracked within features"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - High priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "R4-error-classification",
      "name": "Error Classification",
      "description": "Classify errors into categories: transient (retry), billing (stop, notify), auth (stop, notify), unknown (retry with backoff).",
      "category": "infrastructure",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "ErrorCategory enum with all categories",
        "Transient errors trigger retry",
        "Billing/auth errors stop execution",
        "Unknown errors retry once then stop"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - High priority",
        "ErrorCategory enum in models.py"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "R5-rollback-capability",
      "name": "Rollback Capability",
      "description": "If tests fail after a session, offer to rollback to last known good commit. Use git reflog for safety. Never auto-rollback without confirmation in interactive mode.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "Rollback offered when tests fail",
        "Uses git reflog for safety",
        "No auto-rollback in interactive mode"
      ],
      "depends_on": ["R2-test-validation"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - High priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "R6-health-checks",
      "name": "Health Checks",
      "description": "Pre-flight checks before starting: API connectivity, git clean status, disk space, required tools installed. Fail fast with clear error messages.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "API connectivity check",
        "Git clean status check",
        "Disk space check",
        "Required tools verification",
        "Clear error messages on failure"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "R7-graceful-shutdown",
      "name": "Graceful Shutdown",
      "description": "Handle Ctrl+C (SIGINT) cleanly: commit current work, write handoff notes to progress file, save session state, exit cleanly.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "SIGINT handler registered",
        "Current work committed on shutdown",
        "Handoff notes written to progress file",
        "Session state saved",
        "Clean exit"
      ],
      "depends_on": ["R3-session-resume"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "R8-session-timeout",
      "name": "Session Timeout",
      "description": "Configurable max duration per session (default: 30 minutes). Prevents runaway sessions. Triggers clean handoff when timeout approaches.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "Max session duration configurable",
        "Default 30 minutes",
        "Clean handoff triggered before timeout"
      ],
      "depends_on": ["R7-graceful-shutdown"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1: Reliability - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "D1-codebase-analysis",
      "name": "Codebase Analysis",
      "description": "Analyze project structure, tech stack, dependencies, file organization. Generate a project summary for agent context.",
      "category": "functional",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Detect tech stack (Python, Node, etc.)",
        "Detect frameworks (FastAPI, React, etc.)",
        "Map directory structure",
        "Find entry points",
        "Parse dependencies from lockfiles",
        "Count lines by type (code/test/docs)"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1.5: Discovery - Critical priority",
        "Implemented in discovery/codebase_analyzer.py"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "D2-code-review-agent",
      "name": "Code Review Agent",
      "description": "Automated code review: identify bugs, security issues, code smells, missing error handling, inconsistent patterns. Generate issues list.",
      "category": "functional",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Identify bugs and logic errors",
        "Detect security vulnerabilities (OWASP Top 10)",
        "Find error handling gaps",
        "Detect code smells and anti-patterns",
        "Check for missing input validation",
        "Detect hardcoded secrets",
        "Output as JSON with severity levels"
      ],
      "depends_on": ["D1-codebase-analysis"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1.5: Discovery - Critical priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "D3-test-gap-analysis",
      "name": "Test Gap Analysis",
      "description": "Identify untested code, missing test files, low coverage areas. Map features to tests. Flag critical paths without tests.",
      "category": "functional",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Identify files without tests",
        "Map source files to test files",
        "Flag critical paths without coverage",
        "Generate test gap report"
      ],
      "depends_on": ["D1-codebase-analysis"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1.5: Discovery - Critical priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "D4-requirements-extraction",
      "name": "Requirements Extraction",
      "description": "Parse README, docs, comments, existing tests to understand intended functionality. Build a definition of done checklist.",
      "category": "functional",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "Parse README for requirements",
        "Extract requirements from comments",
        "Analyze existing tests for expected behavior",
        "Generate definition of done checklist"
      ],
      "depends_on": ["D1-codebase-analysis"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1.5: Discovery - High priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "D5-backlog-generation",
      "name": "Backlog Generation",
      "description": "Convert gaps and issues into prioritized feature-list.json. Estimate effort, set priorities, detect dependencies automatically.",
      "category": "functional",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "Convert code issues to features",
        "Convert test gaps to features",
        "Auto-prioritize by severity",
        "Detect dependencies between features",
        "Output valid feature-list.json"
      ],
      "depends_on": ["D2-code-review-agent", "D3-test-gap-analysis"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1.5: Discovery - High priority",
        "Implemented in discovery/backlog_generator.py"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "D6-diff-from-ideal",
      "name": "Diff from Ideal",
      "description": "Compare current state against best practices (linting, typing, tests, docs, security). Generate remediation tasks.",
      "category": "functional",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "Check linting configuration",
        "Check type checking setup",
        "Check test coverage setup",
        "Check documentation completeness",
        "Check security best practices",
        "Generate remediation tasks"
      ],
      "depends_on": ["D1-codebase-analysis"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1.5: Discovery - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "D7-incremental-discovery",
      "name": "Incremental Discovery",
      "description": "Re-run discovery after each session to update remaining work. Track progress toward done state.",
      "category": "functional",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "Discovery can be re-run incrementally",
        "Previous issues tracked by ID",
        "Progress toward completion tracked",
        "New issues detected on re-run"
      ],
      "depends_on": ["D5-backlog-generation"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 1.5: Discovery - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "O1-cost-tracking",
      "name": "Cost Tracking",
      "description": "Track tokens (input/output/cache), calculate API cost per session and per feature. Parse CLI mode JSONL logs. Support both CLI and SDK modes.",
      "category": "functional",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Track input/output/cache tokens",
        "Calculate cost per session",
        "Calculate cost per feature",
        "Parse CLI JSONL logs from ~/.claude/projects/",
        "Support both CLI and SDK modes"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 2: Observability - Critical priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "O2-adaptive-model-selection",
      "name": "Adaptive Model Selection",
      "description": "Default to Sonnet for most tasks, use Opus only for complex features. Per-feature model override in backlog. Complexity detection based on feature description, effort, and dependencies.",
      "category": "functional",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Default to Sonnet",
        "Auto-select Opus for complex tasks",
        "Per-feature model_override support",
        "Complexity detection from description",
        "Complexity detection from effort estimate",
        "Complexity detection from dependency count"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 2: Observability - Critical priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "O5-session-history",
      "name": "Session History",
      "description": "Persistent log of all sessions: start/end time, duration, tokens used, cost, outcome, feature worked on.",
      "category": "functional",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "Session start/end time logged",
        "Duration calculated",
        "Token usage recorded",
        "Cost calculated and stored",
        "Outcome tracked (success/failure/handoff)",
        "Feature ID linked"
      ],
      "depends_on": ["O1-cost-tracking"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 2: Observability - High priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "O8-cost-projections",
      "name": "Cost Projections",
      "description": "Estimate remaining cost based on: features pending, average cost per feature, historical data.",
      "category": "functional",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "Calculate average cost per feature",
        "Estimate remaining cost",
        "Display projection in dashboard",
        "Update projection as features complete"
      ],
      "depends_on": ["O1-cost-tracking", "O5-session-history"],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 2: Observability - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "O9-alerts-notifications",
      "name": "Alerts & Notifications",
      "description": "Desktop notifications (Windows toast) on: completion, failure, billing warning. Optional email/webhook.",
      "category": "functional",
      "status": "completed",
      "priority": 70,
      "acceptance_criteria": [
        "Windows toast notifications",
        "Completion notifications",
        "Failure notifications",
        "Billing warning notifications"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 2: Observability - Low priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "V1-playwright-integration",
      "name": "Playwright CLI Integration",
      "description": "Run Playwright tests via CLI for E2E validation. Configure test patterns per feature.",
      "category": "testing",
      "status": "completed",
      "priority": 100,
      "acceptance_criteria": [
        "Playwright CLI invocation working",
        "Test patterns configurable per feature",
        "Results parsed and reported",
        "Feature-specific grep patterns"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 3: Verification - Critical priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "V2-pre-complete-hooks",
      "name": "Pre-Complete Hooks",
      "description": "Run custom validation scripts before marking feature done. Configurable per-project in .ada/hooks/pre-complete.sh.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "Hook script location configurable",
        "Hook runs before feature completion",
        "Hook failure blocks completion",
        "Hook output logged"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 3: Verification - High priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "V3-visual-regression",
      "name": "Visual Regression Testing",
      "description": "Screenshot comparison using Playwright. Store baseline screenshots, compare after implementation. Flag visual changes for review.",
      "category": "testing",
      "status": "pending",
      "priority": 30,
      "acceptance_criteria": [
        "Baseline screenshots stored",
        "Screenshots taken after implementation",
        "Pixel-diff comparison performed",
        "Visual changes flagged for review",
        "Threshold for acceptable difference configurable"
      ],
      "depends_on": ["V1-playwright-integration"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Phase 3: Verification - High priority",
        "Use Playwright's built-in screenshot comparison"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": "pyright",
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "V4-coverage-check",
      "name": "Test Coverage Check",
      "description": "Verify new code has tests. Use coverage tools to check coverage delta. Warn if coverage drops.",
      "category": "testing",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "Coverage measured before/after",
        "Coverage delta calculated",
        "Warning if coverage drops",
        "Configurable coverage threshold"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 3: Verification - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "V5-lint-type-check",
      "name": "Lint/Type Check Gates",
      "description": "Run linters (ESLint, Ruff) and type checkers (TypeScript, mypy) as quality gates. Fail if errors introduced.",
      "category": "testing",
      "status": "completed",
      "priority": 80,
      "acceptance_criteria": [
        "Lint command configurable",
        "Type check command configurable",
        "Errors block feature completion",
        "Error output included in logs"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 3: Verification - Medium priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "V6-manual-approval",
      "name": "Manual Approval Mode",
      "description": "Option to pause and require human approval before marking feature complete. Useful for critical features.",
      "category": "functional",
      "status": "completed",
      "priority": 70,
      "acceptance_criteria": [
        "Manual approval flag per feature",
        "Execution pauses when flag set",
        "User prompted for approval",
        "Approval/rejection logged"
      ],
      "depends_on": [],
      "started_at": "2026-01-18T00:00:00",
      "completed_at": "2026-01-18T12:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Phase 3: Verification - Low priority"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "uncommitted-changes-detection",
      "name": "Uncommitted Changes Detection",
      "description": "At session start, detect and analyze uncommitted changes. Categorize (session state, tracking, source, generated), check gitignore gaps, map to requirements, propose resolution.",
      "category": "infrastructure",
      "status": "pending",
      "priority": 85,
      "acceptance_criteria": [
        "Run git status at session start",
        "Categorize changes (session state, tracking, source, generated)",
        "Detect gitignore gaps for transient files",
        "Map source changes to features/sessions",
        "Present analysis with recommendations",
        "Wait for user approval before resolution",
        "Log resolution in progress file"
      ],
      "depends_on": ["R6-health-checks"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Procedure documented in docs/UNCOMMITTED_CHANGES_PROCEDURE.md",
        "Should be part of pre-flight health checks"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [
          "Never commit files matching .env*, credentials*, secrets*",
          "Warn if any file contains API key patterns"
        ],
        "lint_command": "ruff check src/",
        "type_check_command": "pyright",
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "S1-subagents",
      "name": "Subagents",
      "description": "Spawn child agents for independent features. Coordinate via shared progress file. Merge results.",
      "category": "infrastructure",
      "status": "pending",
      "priority": 50,
      "acceptance_criteria": [
        "Child agent spawning mechanism",
        "Shared progress file coordination",
        "Results merging from multiple agents",
        "Dependency-aware scheduling"
      ],
      "depends_on": ["R3-session-resume", "R7-graceful-shutdown"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Phase 4: Scalability - Medium priority (future)"
      ],
      "quality_gates": null,
      "model_override": "claude-opus-4-5-20251101"
    },
    {
      "id": "S2-multi-project",
      "name": "Multi-Project Management",
      "description": "Manage multiple projects from single harness. Project switching, aggregate views.",
      "category": "functional",
      "status": "pending",
      "priority": 30,
      "acceptance_criteria": [
        "Multiple project configs supported",
        "Project switching in CLI",
        "Aggregate CLI views",
        "Per-project cost tracking"
      ],
      "depends_on": [],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Phase 4: Scalability - Low priority (future)"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "S3-semantic-search",
      "name": "Semantic Search",
      "description": "Vector retrieval (embeddings) for large codebases. Help agent find relevant code faster.",
      "category": "functional",
      "status": "pending",
      "priority": 30,
      "acceptance_criteria": [
        "Embedding generation for codebase",
        "Vector storage (local or cloud)",
        "Semantic search API",
        "Integration with agent context"
      ],
      "depends_on": ["D1-codebase-analysis"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Phase 4: Scalability - Low priority (future)",
        "Consider using local embeddings to avoid API costs"
      ],
      "quality_gates": null,
      "model_override": "claude-opus-4-5-20251101"
    },
    {
      "id": "S4-git-worktree-support",
      "name": "Git Worktree Support",
      "description": "Use git worktrees for parallel feature branches. Each subagent works in isolated worktree.",
      "category": "infrastructure",
      "status": "pending",
      "priority": 30,
      "acceptance_criteria": [
        "Worktree creation for features",
        "Isolated agent execution per worktree",
        "Worktree cleanup after completion",
        "Merge coordination"
      ],
      "depends_on": ["S1-subagents"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Phase 4: Scalability - Low priority (future)",
        "Worktree slots documented in CLAUDE.md"
      ],
      "quality_gates": null,
      "model_override": null
    },
    {
      "id": "OW1-session-logger",
      "name": "Session Logger & Workspace Foundation",
      "description": "Create .ada/ workspace structure with JSONL session logging. Log all agent interactions: prompts, assistant messages, tool calls with full inputs/outputs, errors, context updates. Verbose by default - capture everything for debugging and improvement.",
      "category": "infrastructure",
      "status": "completed",
      "priority": 95,
      "acceptance_criteria": [
        "Create .ada/logs/sessions/ directory structure",
        "SessionLogger class writes JSONL (one JSON per line)",
        "Log entry types: session_start, prompt, assistant, tool_result, context_update, error, session_end",
        "Full tool inputs and outputs captured (no truncation)",
        "Immediate flush for real-time streaming support",
        "Session file naming: {YYYYMMDD}_{NNN}_{agent_type}_{feature_id}.jsonl",
        "Wire logging into CLISession and SDKSession"
      ],
      "depends_on": [],
      "started_at": "2026-01-20T12:00:00",
      "completed_at": "2026-01-20T13:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Observability Workspace Phase 1",
        "Spec in docs/OBSERVABILITY_SPEC.md",
        "JSONL format enables streaming and easy parsing",
        "Added AssistantMessageEvent and ToolResultEvent models",
        "SDKSession emits structured events via callback",
        "CLI mode logs raw output via log_raw_output()",
        "Truncation configurable (default 50KB)"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [
          "Sanitize any API keys in logged content",
          "Ensure logs directory in .gitignore"
        ],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "OW2-project-context",
      "name": "Project Context Preservation",
      "description": "Enhance ada init to capture project description. Store in .ada/project.json with name, description, created_at, and init_session details. This preserves the initial context that was previously lost.",
      "category": "functional",
      "status": "completed",
      "priority": 90,
      "acceptance_criteria": [
        "ada init --description flag added",
        "Interactive mode prompts for description",
        ".ada/project.json created with ProjectContext model",
        "Init session prompt and outcome stored",
        "ada info command shows project context",
        "project.json committed to git (not in .gitignore)"
      ],
      "depends_on": ["OW1-session-logger"],
      "started_at": "2026-01-20T13:00:00",
      "completed_at": "2026-01-20T13:22:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Observability Workspace Phase 1",
        "Fixes the 'lost initial instructions' problem"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "OW3-log-cli",
      "name": "CLI Log Commands",
      "description": "Add ada logs command for viewing session logs. Support: list sessions, view specific session, filter by feature/outcome/date, real-time tail of current session, export to file.",
      "category": "functional",
      "status": "completed",
      "priority": 85,
      "acceptance_criteria": [
        "ada logs - list recent sessions with summary table",
        "ada logs --session ID - view specific session",
        "ada logs --feature ID - filter by feature",
        "ada logs --outcome failure - filter by outcome",
        "ada logs --tail - real-time follow of current session",
        "ada logs --tail --format json - raw JSON output",
        "ada logs --export FILE - export sessions to file",
        "Pretty formatting for human readability"
      ],
      "depends_on": ["OW1-session-logger"],
      "started_at": "2026-01-20T00:00:00",
      "completed_at": "2026-01-20T14:00:00",
      "sessions_spent": 1,
      "implementation_notes": [
        "Observability Workspace Phase 2",
        "Implemented in cli.py lines 1247-1394",
        "Formatting utilities in log_formatter.py",
        "All acceptance criteria verified complete"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "OW4-log-rotation",
      "name": "Log Rotation & Indexing",
      "description": "Auto-rotate logs when .ada/logs exceeds 100MB. Maintain index.json for fast session lookup. Archive old sessions to compressed files.",
      "category": "infrastructure",
      "status": "pending",
      "priority": 70,
      "acceptance_criteria": [
        "Monitor .ada/logs/ directory size",
        "Trigger rotation at 100MB threshold",
        "Archive oldest sessions to logs/archive/YYYYMM.tar.gz",
        "Keep last 50 sessions in active directory",
        "Maintain logs/index.json with session summaries",
        "Index includes archived session references",
        "ada migrate command for existing projects"
      ],
      "depends_on": ["OW1-session-logger", "OW3-log-cli"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Observability Workspace Phase 3"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "CLI-removal",
      "name": "Remove CLI Mode - SDK Only",
      "description": "Remove all CLI-specific code and make SDK the only session mode. Simplifies codebase (~487 lines), improves observability (turn-level logging only works in SDK), and standardizes on API credits billing.",
      "category": "refactor",
      "status": "pending",
      "priority": 92,
      "acceptance_criteria": [
        "SessionMode enum removed from models.py",
        "CLISession class removed from session.py",
        "cli_utils.py file deleted",
        "--mode option removed from ada run command",
        "CLI-specific logging removed from orchestrator",
        "CLI-specific tests removed",
        "All remaining tests pass",
        "Documentation updated"
      ],
      "depends_on": [],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "Handoff file: HANDOFF-CLI-REMOVAL.md",
        "User runs on WSL, avoiding Windows SDK issues",
        "~487 lines of code to remove"
      ],
      "quality_gates": {
        "require_tests": false,
        "max_file_lines": null,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE1-npm-path-injection",
      "name": "npm PATH Injection for Subprocesses",
      "description": "Inject project's node_modules/.bin into PATH for all subprocess calls (tests, builds, lints). Prevents 'vitest is not recognized' and similar failures when tools are installed locally but not globally.",
      "category": "reliability",
      "status": "pending",
      "priority": 98,
      "acceptance_criteria": [
        "subprocess.run() calls in verification.py inject node_modules/.bin into PATH",
        "PATH injection only occurs when node_modules/.bin exists",
        "Original PATH preserved and extended (not replaced)",
        "Works on both Windows (;) and Unix (:) PATH separators",
        "Test with local vitest installation confirms fix"
      ],
      "depends_on": [],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P0 issue",
        "Caused $18+ waste in test run (search-functionality retries)",
        "Location: verification.py lines 514-560",
        "Simple fix: env['PATH'] = str(node_bin) + os.pathsep + env.get('PATH', '')"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE2-heap-corruption-detection",
      "name": "Windows Heap Corruption Crash Detection",
      "description": "Detect Windows exit code 3221225786 (0xC0000374 STATUS_HEAP_CORRUPTION) as SDK_CRASH category. Currently detected as UNKNOWN, leading to suboptimal retry strategy.",
      "category": "reliability",
      "status": "pending",
      "priority": 97,
      "acceptance_criteria": [
        "Exit code 3221225786 detected in error classification",
        "Hex variant 0xC0000374 also detected (case-insensitive)",
        "Text 'heap corruption' detected",
        "Classified as ErrorCategory.SDK_CRASH",
        "Proper retry with exponential backoff applied"
      ],
      "depends_on": ["R4-error-classification"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P0 issue",
        "Caused work loss in task-statistics session",
        "Location: session.py lines 151-157 (classify_error function)",
        "Add patterns: 'exit code 3221225786', '0xc0000374', 'heap corruption'"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE3-milestone-commits",
      "name": "Mid-Session Milestone Commits",
      "description": "Auto-commit after significant file changes during long sessions, not just at feature completion. Prevents total work loss when SDK crashes mid-feature after 40+ turns of productive work.",
      "category": "reliability",
      "status": "pending",
      "priority": 96,
      "acceptance_criteria": [
        "Track file creations/modifications during session",
        "Trigger WIP commit after 5+ new files created",
        "Trigger WIP commit after 10+ files modified",
        "Commit message format: 'wip(feature-id): checkpoint after N changes'",
        "Configurable threshold via HarnessConfig",
        "Does not interfere with feature completion commits"
      ],
      "depends_on": ["R7-graceful-shutdown"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P0 issue",
        "Session 022 lost 42 turns of work due to crash with no checkpoint",
        "Location: orchestration/feature_completion.py",
        "Need to track git status changes during session execution"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE4-tooling-failure-category",
      "name": "Tooling Failure Error Category",
      "description": "Add TOOLING_FAILURE error category for PATH/environment issues. Distinguish between 'feature code is broken' vs 'tooling environment is broken'. Different retry strategy for each.",
      "category": "reliability",
      "status": "pending",
      "priority": 88,
      "acceptance_criteria": [
        "ErrorCategory.TOOLING_FAILURE added to enum",
        "Detect patterns: 'not recognized', 'command not found', 'ENOENT', 'spawn'",
        "Detect patterns: 'No such file or directory' for executables",
        "TOOLING_FAILURE is retryable (add to retryable_categories)",
        "Different delay strategy than SDK_CRASH (shorter, as it's usually fixable)"
      ],
      "depends_on": ["R4-error-classification"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P1 issue",
        "Enables RE5-tooling-retry-strategy to work properly",
        "Location: models.py (enum), session.py (classification)"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE5-tooling-retry-strategy",
      "name": "Smart Tooling Failure Retry",
      "description": "On TOOLING_FAILURE: attempt environment fix (PATH injection, npm install, etc.) then retry the SAME session state - don't restart feature from scratch. Reduces wasted work on environment issues.",
      "category": "reliability",
      "status": "pending",
      "priority": 86,
      "acceptance_criteria": [
        "On TOOLING_FAILURE, attempt auto-fix before retry",
        "Auto-fix attempts: PATH injection, npm install, npx prefix",
        "Retry from current session state, not feature start",
        "Max 2 auto-fix attempts before marking as failure",
        "Log fix attempts in implementation_notes"
      ],
      "depends_on": ["RE4-tooling-failure-category", "RE1-npm-path-injection"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P1 issue",
        "Prevents wasting $15+ restarting features for simple env issues",
        "Location: orchestration/session_orchestrator.py retry logic"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE6-in-session-heartbeat",
      "name": "In-Session Heartbeat Monitoring",
      "description": "Add periodic heartbeat check during agent execution. Detect hung SDK processes earlier than the 30-minute timeout. Log warning if no activity for 2 minutes, force timeout if 5 minutes.",
      "category": "reliability",
      "status": "pending",
      "priority": 84,
      "acceptance_criteria": [
        "Track timestamp of last message/activity during session",
        "Log warning if no activity for 2 minutes",
        "Force session timeout if no activity for 5 minutes",
        "Heartbeat interval configurable via HarnessConfig",
        "Heartbeat runs in separate asyncio task",
        "Clean cancellation when session completes normally"
      ],
      "depends_on": ["R8-session-timeout"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P1 issue",
        "Session 004 hung for 4 HOURS undetected",
        "Current timeout only fires at 30 min total, not for mid-session hangs",
        "Location: session.py SDKSession._run_session()"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE7-turn-based-checkpoint",
      "name": "Turn-Based Progress Checkpoints",
      "description": "Save lightweight checkpoint every N turns during session (not full commit). Enables smarter resume - skip already-completed work instead of restarting from scratch.",
      "category": "reliability",
      "status": "pending",
      "priority": 75,
      "acceptance_criteria": [
        "Checkpoint saved every 10 turns (configurable)",
        "Checkpoint includes: turn number, last tool calls, files modified",
        "Checkpoint stored in .ada/state/checkpoint.json",
        "On resume, provide checkpoint context to agent",
        "Agent can skip already-done work based on checkpoint"
      ],
      "depends_on": ["R3-session-resume", "RE3-milestone-commits"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P2 issue",
        "Different from milestone commits - this is about context, not git",
        "Helps agent understand what was already done on resume"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE8-npx-fallback",
      "name": "Automatic npx Fallback for Commands",
      "description": "If a direct command fails with 'not recognized' or 'command not found', automatically retry with npx prefix. Self-healing for common npm tooling issues.",
      "category": "reliability",
      "status": "pending",
      "priority": 72,
      "acceptance_criteria": [
        "Detect command failure patterns in subprocess output",
        "Automatically retry failed command with 'npx' prefix",
        "Only apply to npm-related tools (vitest, playwright, eslint, etc.)",
        "Log the fallback attempt",
        "Max 1 npx retry per command"
      ],
      "depends_on": ["RE1-npm-path-injection"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P2 issue",
        "Simple self-healing mechanism",
        "Location: verification.py _run_command()"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    },
    {
      "id": "RE9-error-analytics",
      "name": "Error Pattern Analytics",
      "description": "Track error patterns across sessions for automatic threshold tuning. Identify recurring issues, calculate failure rates by category, suggest configuration improvements.",
      "category": "observability",
      "status": "pending",
      "priority": 65,
      "acceptance_criteria": [
        "Store error events in .ada/analytics/errors.json",
        "Track: error category, message pattern, feature, timestamp",
        "Calculate failure rate by error category",
        "Identify top 5 recurring error patterns",
        "ada analytics command shows error insights",
        "Suggest config changes based on patterns"
      ],
      "depends_on": ["R4-error-classification", "OW1-session-logger"],
      "started_at": null,
      "completed_at": null,
      "sessions_spent": 0,
      "implementation_notes": [
        "From RETROSPECTIVE-2026-01-20.md P2 issue",
        "Enables data-driven reliability improvements",
        "Could suggest increasing timeouts if timeout errors are common"
      ],
      "quality_gates": {
        "require_tests": true,
        "max_file_lines": 400,
        "security_checklist": [],
        "lint_command": "ruff check src/",
        "type_check_command": null,
        "custom_validators": []
      },
      "model_override": null
    }
  ],
  "created_at": "2026-01-18T13:00:00",
  "last_updated": "2026-01-21T12:00:00"
}
